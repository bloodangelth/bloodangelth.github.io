<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CICC Chatbot</title>

    <style>
        :root {
            --primary-color: #bb0d0d;
            --bg-color: #f4f4f9;
            --chat-bg: #ffffff;
            --user-msg-bg: #0056b3;
            --bot-msg-bg: #e9ecef;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Sarabun', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- HEADER --- */
        .chatbot-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
            background: var(--chat-bg);
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .chatbot-header {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(209, 18, 18, 0.1);
            z-index: 10;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            background: white;
            padding: 2px;
        }

        .title-group h3 {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        .title-group p {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        /* --- CHAT AREA --- */
        .chat-area {
            flex: 1;
            padding: 20px;
            padding-bottom: 10px; /* ‡∏•‡∏î padding ‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏°‡∏µ‡πÄ‡∏°‡∏ô‡∏π‡∏•‡∏≠‡∏¢ */
            overflow-y: auto;
            background: #fff;
            scroll-behavior: smooth;
        }

        .message-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: flex-start;
        }

        .message-group.user {
            flex-direction: row-reverse;
        }

        .avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            overflow: hidden;
            background-color: #eee;
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .avatar-icon {
            font-size: 24px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 1rem;
            line-height: 1.5;
            word-wrap: break-word;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            position: relative;
        }

        .bot-message {
            background-color: var(--bot-msg-bg);
            color: #333;
            border-top-left-radius: 4px;
        }

        .user-message {
            background-color: var(--user-msg-bg);
            color: white;
            border-top-right-radius: 4px;
        }

        /* --- (UPDATED) Quick Menu Bar Style --- */
        /* ‡∏¢‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå */
        .quick-menu-bar {
            display: flex;
            gap: 8px;
            overflow-x: auto; /* ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏¢‡∏≠‡∏∞ */
            padding-bottom: 10px;
            white-space: nowrap;
            /* ‡∏ã‡πà‡∏≠‡∏ô Scrollbar ‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none;  /* IE 10+ */
        }
        .quick-menu-bar::-webkit-scrollbar { 
            display: none; /* Chrome/Safari */
        }
        
        .quick-btn {
            background-color: white;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            padding: 6px 14px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
            flex-shrink: 0; /* ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏î */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .quick-btn:hover {
            background-color: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .quick-btn i {
            font-size: 1rem;
        }

        /* --- CSS ‡∏õ‡∏∏‡πà‡∏°‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á --- */
        .tts-btn {
            background: transparent;
            border: 1px solid #ccc;
            color: #666;
            margin-top: 8px;
            padding: 4px 10px;
            font-size: 0.75rem;
            border-radius: 12px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            transition: 0.2s;
        }
        .tts-btn:hover {
            background: #ddd;
            color: #333;
        }

        /* --- INPUT AREA --- */
        .chat-input-area {
            padding: 10px 15px 15px 15px; /* ‡∏õ‡∏£‡∏±‡∏ö Padding */
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            flex-direction: column; /* ‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏ß‡πâ‡∏ö‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå */
        }

        .chat-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: flex-end;
            background: #f8f9fa;
            padding: 8px;
            border-radius: 25px;
            border: 1px solid #ddd;
        }

        textarea {
            flex: 1;
            border: none;
            background: transparent;
            padding: 10px;
            font-size: 16px;
            resize: none;
            max-height: 120px;
            outline: none;
        }

        #sendBtn {
            background: var(--primary-color);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
            flex-shrink: 0;
            margin-bottom: 2px;
        }

        #sendBtn:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }

        .disclaimer {
            font-size: 0.75rem;
            color: #888;
            text-align: center;
            margin-top: 8px;
        }

        button i { font-size: 18px; }
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <div class="chatbot-container">
        
        <header class="chatbot-header">
            <div class="header-content">
                <img src="cicc.png" class="logo" alt="CICC Logo">
                <div class="title-group">
                    <h3>CICC Chatbot</h3>
                    <p>‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå ‚Ä¢ AI Model CICC</p>
                </div>
            </div>
        </header>

        <div class="chat-area" id="chatArea">
            <div class="message-group bot">
                <div class="avatar">
                    <img src="cicc.png" alt="Bot">
                </div>
                <div class="message bot-message">
                    <p>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠ CICC Chatbot ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏±‡∏ö</p>
                    <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö üëá</p>
                    
                    <button class="tts-btn" onclick="playFinalVoice('‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠ CICC Chatbot ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ñ‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö')">
                        <i class="fas fa-volume-up"></i> ‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á
                    </button>
                </div>
            </div>
        </div>

        <div class="chat-input-area">
            
            <div class="quick-menu-bar">
                <button class="quick-btn" onclick="sendQuickMessage('‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£')">
                    <i class="far fa-clock"></i> ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£
                </button>
                <button class="quick-btn" onclick="sendQuickMessage('‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠')">
                    <i class="fas fa-phone-alt"></i> ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
                </button>
                <button class="quick-btn" onclick="sendQuickMessage('‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å')">
                    <i class="fas fa-book-open"></i> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å
                </button>
            </div>
            <div class="chat-input-wrapper">
                <textarea id="userInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°..." rows="1"></textarea>
                <button id="sendBtn"><i class="fas fa-paper-plane"></i></button>
            </div>
            <p class="disclaimer">‚ö† ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p>
        </div>
    </div>

<script>
let appendMessage, getBotResponse, playFinalVoice;
let currentAudio = null;

document.addEventListener('DOMContentLoaded', () => {
    const chatArea = document.getElementById('chatArea');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    // --- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ---
    playFinalVoice = function(text) {
        if (currentAudio) {
            currentAudio.pause();
            currentAudio = null;
        }
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
        }

        let cleanText = text.replace(/<[^>]*>/g, ' ').replace(/&nbsp;/g, ' ').trim();
        if(!cleanText) return;

        playGoogleQueue(cleanText);
    }

    function playGoogleQueue(text) {
        const MAX_LEN = 100; 
        let sentences = [];
        
        while (text.length > 0) {
            let chunk = text.substring(0, MAX_LEN);
            let lastSpace = chunk.lastIndexOf(' ');
            if (lastSpace > 0 && text.length > MAX_LEN) chunk = chunk.substring(0, lastSpace);
            sentences.push(chunk);
            text = text.substring(chunk.length).trim();
        }

        let index = 0;
        
        function playNextChunk() {
            if (index >= sentences.length) return; 

            let chunk = sentences[index];
            let url = `https://translate.google.com/translate_tts?ie=UTF-8&q=${encodeURIComponent(chunk)}&tl=th&client=tw-ob`;
            
            let audio = new Audio(url);
            currentAudio = audio; 

            audio.onended = function() {
                index++;
                playNextChunk();
            };

            audio.onerror = function() {
                console.log("Google Voice Failed, switching to Native.");
                playNativeFallback(sentences.slice(index).join(" ")); 
            };

            let playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    playNativeFallback(sentences.slice(index).join(" "));
                });
            }
        }
        playNextChunk();
    }

    function playNativeFallback(text) {
        if (!('speechSynthesis' in window)) return;
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'th-TH'; 
        utterance.rate = 1.0;
        let voices = window.speechSynthesis.getVoices();
        let thaiVoice = voices.find(v => v.lang.includes('th'));
        if (thaiVoice) utterance.voice = thaiVoice;
        window.speechSynthesis.speak(utterance);
    }

    appendMessage = function(sender, text) {
        const messageGroup = document.createElement('div');
        messageGroup.classList.add('message-group', sender);

        const avatarDiv = document.createElement('div');
        avatarDiv.classList.add('avatar');
        
        if (sender === 'user') {
            const iconSpan = document.createElement('span');
            iconSpan.classList.add('avatar-icon');
            iconSpan.textContent = 'üë§'; 
            avatarDiv.appendChild(iconSpan);
        } else {
            const img = document.createElement('img');
            img.src = 'cicc.png';
            img.alt = 'CICC Bot';
            avatarDiv.appendChild(img);
        }

        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', `${sender}-message`);
        messageDiv.innerHTML = `<p>${text.replace(/\n/g, '<br>')}</p>`;

        if (sender === 'bot') {
            const ttsButton = document.createElement('button');
            ttsButton.className = 'tts-btn';
            ttsButton.innerHTML = '<i class="fas fa-volume-up"></i> ‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á';
            ttsButton.onclick = function() {
                playFinalVoice(text);
            };
            messageDiv.appendChild(ttsButton);
        }

        messageGroup.appendChild(avatarDiv);
        messageGroup.appendChild(messageDiv);
        chatArea.appendChild(messageGroup);
        chatArea.scrollTop = chatArea.scrollHeight;
    }

    getBotResponse = function(text) {
        const msg = text.toLowerCase().trim();

        if (msg.includes("‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ") || msg.includes("‡∏´‡∏ß‡∏±‡∏î‡∏î‡∏µ")) {
            return "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö?";
        }
        if (msg.includes("‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£") || msg.includes("‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á")) {
            return "üïí <b>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£:</b>\n‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå ‚Äì ‡∏®‡∏∏‡∏Å‡∏£‡πå\n08.30 ‚Äì 16.30 ‡∏ô.\n(‡∏õ‡∏¥‡∏î‡∏ß‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£)";
        }
        if (msg.includes("‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠") || msg.includes("‡πÄ‡∏ö‡∏≠‡∏£‡πå") || msg.includes("‡πÇ‡∏ó‡∏£")) {
            return "üìû <b>‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠:</b>\n\n1. ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏°‡∏≠‡∏™\n‡πÇ‡∏ó‡∏£: 064 565 3117\nFB: <a href='https://facebook.com/share/1Ab3CQ799w/' target='_blank'>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏ü‡∏™‡∏ö‡∏∏‡πä‡∏Ñ</a>\n\n2. ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå A\n‡πÇ‡∏ó‡∏£: 064-xxx-xxx";
        }
        if (msg.includes("‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£") || msg.includes("‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á")) {
            return "üìö <b>‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å:</b>\n‚Ä¢ ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô\n‚Ä¢ ‡∏á‡∏≤‡∏ô‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏î‡∏ú‡∏•\n‚Ä¢ ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£\n‚Ä¢ ‡∏á‡∏≤‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤";
        }
        if (msg.includes("‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì")) {
            return "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö üòä";
        }
        return "‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ \n‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤ '‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏Å‡∏≤‡∏£' ‡∏´‡∏£‡∏∑‡∏≠ '‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠' ‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö";
    }

    window.processUserMessage = function(text) {
        if (!text) return;
        appendMessage("user", text);
        setTimeout(() => {
            appendMessage("bot", getBotResponse(text));
        }, 500);
    }

    function sendMessage() {
        const text = userInput.value.trim();
        if (!text) return;
        userInput.value = "";
        adjustTextareaHeight();
        processUserMessage(text);
    }

    sendBtn.addEventListener("click", sendMessage);

    userInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && !e.shiftKey) {
            e.preventDefault();
            sendMessage();
        }
    });

    function adjustTextareaHeight() {
        userInput.style.height = "auto";
        userInput.style.height = userInput.scrollHeight + "px";
        if(userInput.value === '') userInput.style.height = 'auto';
    }

    userInput.addEventListener("input", adjustTextareaHeight);
});

function sendQuickMessage(text) {
    if (window.processUserMessage) {
        window.processUserMessage(text);
    }
}
</script>

</body>
</html>